"use strict";function pickRandom(t){return t[Math.floor(Math.random()*t.length)]}function practice(){new Vue({el:"#pracice",data:data,getAnswer:function(t,n){var e=_.find(this.data.wordsets,{name:t});return _.find(e.words,{_id:n})},pickSentences:function(t){var n=[];for(i=0;i<t;i++)n.push(pickRandom(data.sentences));return n}})}function sentences(){data.forEach(function(t){$("#sentence-list").prepend(template(t))});new Vue({el:"#sentences",data:data})}$("#sentence-form").on("submit",function(){var t=$("#s_original").val(),n=$("#s_translation").val();return $.post("/sentences/add",{s_original:t,s_translation:n},function(e){e=JSON.parse(e),200===e.status?($("#sentence-list").prepend(template({s_original:t,s_translation:n,_id:e._id})),$("#s_original").val("").focus(),$("#s_translation").val("")):alert("Failed to add new sentence")}),!1}),$(document).on("click",".edit",function(){var t=$(this).parent().parent(),n=$(t).find(".word").text(),e=$(t).find(".translation").text();$("#word").val(n),$("#translation").val(e).focus()}),String.prototype.format=function(){for(var t=this,n=0;n<arguments.length;n++){var e=new RegExp("\\{"+n+"\\}","gi");t=t.replace(e,arguments[n])}return t},$(document).on("click",".sentence-delete",function(){var t=$(this).parent().parent(),n=t.attr("_id");$.post("/sentences/delete",{_id:n},function(){t.remove()})}),$("#sentence-form").on("submit",function(){var t=$("#s_original").val(),n=$("#s_translation").val();return $.post("/sentences/add",{s_original:t,s_translation:n},function(e){e=JSON.parse(e),200===e.status?($("#sentence-list").prepend(template({s_original:t,s_translation:n,_id:e._id})),$("#s_original").val("").focus(),$("#s_translation").val("")):alert("Failed to add new sentence")}),!1}),$(document).on("click",".sentence-edit",function(){var t=$(this).parent().parent(),n=$(t).find(".word").text(),e=$(t).find(".translation").text();$("#word").val(n),$("#translation").val(e).focus()});var wordsets=new Vue({el:"#wordsets",data:{wordsets:jsonData},methods:{editWordset:function(t){window.location="/wordset/"+t},deleteWordset:function(t){var n=this;console.log(this.wordsets),confirm("Are you sure you want to delete this wordset? This cannot be undone.")&&$.post("/wordsets/delete",{_id:t},function(){n.wordsets=n.wordsets.filter(function(n){return n._id!=t}),console.log(n.wordsets)})}}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlcnMuanMiLCJwcmFjdGljZS5qcyIsInNlbnRlbmNlcy5qcyIsImV2ZW50TGlzdGVuZXJzLmpzIiwid29yZHNldHMuanMiXSwibmFtZXMiOlsicGlja1JhbmRvbSIsImxpc3QiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJwcmFjdGljZSIsIlZ1ZSIsImVsIiwiZGF0YSIsImdldEFuc3dlciIsIndvcmRzZXROYW1lIiwicXVlcnkiLCJ3b3Jkc2V0IiwiXyIsImZpbmQiLCJ0aGlzIiwid29yZHNldHMiLCJuYW1lIiwid29yZHMiLCJfaWQiLCJwaWNrU2VudGVuY2VzIiwibnVtIiwicmVzdWx0IiwiaSIsInB1c2giLCJzZW50ZW5jZXMiLCJmb3JFYWNoIiwic2VudGVuY2UiLCIkIiwicHJlcGVuZCIsInRlbXBsYXRlIiwib24iLCJvIiwidmFsIiwidCIsInBvc3QiLCJzX29yaWdpbmFsIiwic190cmFuc2xhdGlvbiIsInJlcyIsIkpTT04iLCJwYXJzZSIsInN0YXR1cyIsImZvY3VzIiwiYWxlcnQiLCJkb2N1bWVudCIsImVsZW0iLCJwYXJlbnQiLCJ3IiwidGV4dCIsIlN0cmluZyIsInByb3RvdHlwZSIsImZvcm1hdCIsImZvcm1hdHRlZCIsImFyZ3VtZW50cyIsInJlZ2V4cCIsIlJlZ0V4cCIsInJlcGxhY2UiLCJhdHRyIiwicmVtb3ZlIiwianNvbkRhdGEiLCJtZXRob2RzIiwiZWRpdFdvcmRzZXQiLCJpZCIsIndpbmRvdyIsImxvY2F0aW9uIiwiZGVsZXRlV29yZHNldCIsIl90aGlzIiwiY29uc29sZSIsImxvZyIsImNvbmZpcm0iLCJmaWx0ZXIiXSwibWFwcGluZ3MiOiJZQVNBLFNBQVNBLFlBQVdDLEdBQ2hCLE1BQU9BLEdBQUtDLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVdILEVBQUtJLFNDUmhELFFBQVNDLFlBRVksR0FBSUMsTUFDakJDLEdBQUksV0FDSkMsS0FBTUEsS0FFTkMsVUFKcUIsU0FJWEMsRUFBYUMsR0FDbkIsR0FB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U0FDT0MsR0FDUkMsT0FBT0MsU0FBVyxZQUFjRixHQUVwQ0csY0FKSyxTQUlTSCxHQUFJLEdBQUFJLEdBQUFuRCxJQUNkb0QsU0FBUUMsSUFBSXJELEtBQUtDLFVBQ2JxRCxRQUFRLHlFQUNSekMsRUFBRU8sS0FBSyxvQkFBc0JoQixJQUFLMkMsR0FBTSxXQUNwQ0ksRUFBS2xELFNBQVdrRCxFQUFLbEQsU0FBU3NELE9BQU8sU0FBQTFELEdBQUEsTUFBV0EsR0FBUU8sS0FBTzJDLElBQy9ESyxRQUFRQyxJQUFJRixFQUFLbEQiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlN0cmluZy5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGZvcm1hdHRlZCA9IHRoaXM7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKCdcXFxceycgKyBpICsgJ1xcXFx9JywgJ2dpJyk7XHJcbiAgICAgICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UocmVnZXhwLCBhcmd1bWVudHNbaV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvcm1hdHRlZDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHBpY2tSYW5kb20obGlzdCkge1xyXG4gICAgcmV0dXJuIGxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGlzdC5sZW5ndGgpXTtcclxufVxyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5mdW5jdGlvbiBwcmFjdGljZSgpIHtcclxuXHJcbiAgICBjb25zdCBwcmFjdGljZSA9IG5ldyBWdWUoe1xyXG4gICAgICAgIGVsOiAnI3ByYWNpY2UnLFxyXG4gICAgICAgIGRhdGE6IGRhdGEsXHJcblxyXG4gICAgICAgIGdldEFuc3dlcih3b3Jkc2V0TmFtZSwgcXVlcnkpIHtcclxuICAgICAgICAgICAgbGV0IHdvcmRzZXQgPSBfLmZpbmQodGhpcy5kYXRhLndvcmRzZXRzLCB7IG5hbWU6IHdvcmRzZXROYW1lIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gXy5maW5kKHdvcmRzZXQud29yZHMsIHsgX2lkOiBxdWVyeSB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwaWNrU2VudGVuY2VzKG51bSkge1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW07IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocGlja1JhbmRvbShkYXRhLnNlbnRlbmNlcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbiIsIlxyXG5mdW5jdGlvbiBzZW50ZW5jZXMoKSB7XHJcblxyXG4gICAgLy8gQXBwZW5kIHNlbnRlbmNlc1xyXG4gICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChzZW50ZW5jZSkge1xyXG4gICAgICAgICQoJyNzZW50ZW5jZS1saXN0JykucHJlcGVuZCh0ZW1wbGF0ZShzZW50ZW5jZSkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qgc2VudGVuY2VzID0gbmV3IFZ1ZSh7XHJcbiAgICAgICAgZWw6ICcjc2VudGVuY2VzJyxcclxuICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG4vLyBEZWxldGUgc2VudGVuY2VcclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5zZW50ZW5jZS1kZWxldGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZWxlbSA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICB2YXIgX2lkID0gZWxlbS5hdHRyKCdfaWQnKTtcclxuXHJcbiAgICAkLnBvc3QoJy9zZW50ZW5jZXMvZGVsZXRlJywgeyBfaWQ6IF9pZCB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZWxlbS5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbi8vIEFkZCBuZXcgd29yZFxyXG4kKCcjc2VudGVuY2UtZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbyA9ICQoJyNzX29yaWdpbmFsJykudmFsKCk7XHJcbiAgICB2YXIgdCA9ICQoJyNzX3RyYW5zbGF0aW9uJykudmFsKCk7XHJcblxyXG4gICAgJC5wb3N0KCcvc2VudGVuY2VzL2FkZCcsIHtcclxuICAgICAgICBzX29yaWdpbmFsOiBvLFxyXG4gICAgICAgIHNfdHJhbnNsYXRpb246IHRcclxuICAgIH0sIGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICByZXMgPSBKU09OLnBhcnNlKHJlcyk7XHJcbiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAkKCcjc2VudGVuY2UtbGlzdCcpLnByZXBlbmQodGVtcGxhdGUoe1xyXG4gICAgICAgICAgICAgICAgc19vcmlnaW5hbDogbyxcclxuICAgICAgICAgICAgICAgIHNfdHJhbnNsYXRpb246IHQsXHJcbiAgICAgICAgICAgICAgICBfaWQ6IHJlcy5faWRcclxuICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgICAgJCgnI3Nfb3JpZ2luYWwnKS52YWwoJycpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICQoJyNzX3RyYW5zbGF0aW9uJykudmFsKCcnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhbGVydCgnRmFpbGVkIHRvIGFkZCBuZXcgc2VudGVuY2UnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn0pO1xyXG5cclxuLy8gRWRpdCB3b3JkXHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc2VudGVuY2UtZWRpdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBlbGVtID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgIHZhciB3ID0gJChlbGVtKS5maW5kKCcud29yZCcpLnRleHQoKTtcclxuICAgIHZhciB0ID0gJChlbGVtKS5maW5kKCcudHJhbnNsYXRpb24nKS50ZXh0KCk7XHJcblxyXG4gICAgJCgnI3dvcmQnKS52YWwodyk7XHJcbiAgICAkKCcjdHJhbnNsYXRpb24nKS52YWwodCkuZm9jdXMoKTtcclxufSk7IiwiLy8gQWRkIG5ldyB3b3JkXHJcbiQoJyNzZW50ZW5jZS1mb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBvID0gJCgnI3Nfb3JpZ2luYWwnKS52YWwoKTtcclxuICAgIHZhciB0ID0gJCgnI3NfdHJhbnNsYXRpb24nKS52YWwoKTtcclxuXHJcbiAgICAkLnBvc3QoJy9zZW50ZW5jZXMvYWRkJywge1xyXG4gICAgICAgIHNfb3JpZ2luYWw6IG8sXHJcbiAgICAgICAgc190cmFuc2xhdGlvbjogdFxyXG4gICAgfSwgZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIHJlcyA9IEpTT04ucGFyc2UocmVzKTtcclxuICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICQoJyNzZW50ZW5jZS1saXN0JykucHJlcGVuZCh0ZW1wbGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBzX29yaWdpbmFsOiBvLFxyXG4gICAgICAgICAgICAgICAgc190cmFuc2xhdGlvbjogdCxcclxuICAgICAgICAgICAgICAgIF9pZDogcmVzLl9pZFxyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICAkKCcjc19vcmlnaW5hbCcpLnZhbCgnJykuZm9jdXMoKTtcclxuICAgICAgICAgICAgJCgnI3NfdHJhbnNsYXRpb24nKS52YWwoJycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gYWRkIG5ldyBzZW50ZW5jZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxufSk7XHJcblxyXG4vLyBFZGl0IHdvcmRcclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5lZGl0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGVsZW0gPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgdmFyIHcgPSAkKGVsZW0pLmZpbmQoJy53b3JkJykudGV4dCgpO1xyXG4gICAgdmFyIHQgPSAkKGVsZW0pLmZpbmQoJy50cmFuc2xhdGlvbicpLnRleHQoKTtcclxuXHJcbiAgICAkKCcjd29yZCcpLnZhbCh3KTtcclxuICAgICQoJyN0cmFuc2xhdGlvbicpLnZhbCh0KS5mb2N1cygpO1xyXG59KTtcclxuXHJcbiIsIlxyXG5jb25zdCB3b3Jkc2V0cyA9IG5ldyBWdWUoe1xyXG4gICAgZWw6ICcjd29yZHNldHMnLFxyXG4gICAgZGF0YToge1xyXG4gICAgICAgIHdvcmRzZXRzOiBqc29uRGF0YVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBlZGl0V29yZHNldChpZCkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAnL3dvcmRzZXQvJyArIGlkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVsZXRlV29yZHNldChpZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLndvcmRzZXRzKTtcclxuICAgICAgICAgICAgaWYgKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyB3b3Jkc2V0PyBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuJykpIHtcclxuICAgICAgICAgICAgICAgICQucG9zdCgnL3dvcmRzZXRzL2RlbGV0ZScsIHsgX2lkOiBpZCB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53b3Jkc2V0cyA9IHRoaXMud29yZHNldHMuZmlsdGVyKHdvcmRzZXQgPT4gd29yZHNldC5faWQgIT0gaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMud29yZHNldHMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pOyJdfQ==
